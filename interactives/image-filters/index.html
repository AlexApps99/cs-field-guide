<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <!-- ### Enter your interactive title in the title block ### -->
    <title>Image Filters</title>
    <link rel="stylesheet" href="../base-files/css/third-party/normalize.css">
    <!--Import materialize.css-->
    <link rel="stylesheet" href="../base-files/css/third-party/materialize.min.css" type="text/css" media="screen,projection"/>
    <script src="../base-files/js/third-party/modernizr.js"></script>
    <!-- jQuery (necessary for Materialize) -->
    <script type="text/javascript" src="../base-files/js/third-party/jquery.js"></script>
  </head>
  <body>
    <!-- ### Start of required HTML for inline interactives ### -->
    <div class="row interactive">
    <div class="col s12">
    <div id="interactive-image-filters">
      <h4>Image Filters</h4>

      <div class="row">
        <div class="col s12 m4">
          <h5>Select Image</h5>
          <select id="interactive-image-filters-selected-image" class="browser-default">
          </select>
        </div>
        <div class="col s12 m4">
          <h5>Upload Image</h5>
          <p>Either drag and drop or click the button below to load your own landscape image into the interactive.
            <input type="file" name="image" accept="image/*" onchange="loadImageDialog(this)">
          </p>
        </div>
        <div class="col s12 m4">
          <h5>Image Preview Size</h5>
          <select id="interactive-image-filters-image-size" class="browser-default">
            <option value="0.6">Small</option>
            <option value="1" selected="true">Medium</option>
            <option value="2.4">Large (may take longer to load)</option>
          </select>
        </div>
      </div>

      <div id="interactive-image-filters-canvas-parent-container"></div>

      <div class="row">
        <div id="interactive-image-filters-mode-controls" class="col s12 m4">
          <h5>Mode Select</h5>
          <label for="interactive-image-filters-mode-select-control">Selected Mode:</label>
          <select id="interactive-image-filters-mode-select-control" class="browser-default">
            <option value="grayscale" selected="selected">Grayscale</option>
            <option value="threshold">Threshold</option>
            <option value="brightness">Brightness</option>
            <option value="simple_kernels">Kernels</option>
          </select>
          <div id="interactive-image-filters-grayscale-paragraph"><p>Converts the image to grayscale, this is particularly useful for edge detection kernels.</p></div>
          <div id="interactive-image-filters-threshold-paragraph" style="display:none"><p>Compares the grayscale value of every pixel in the image to some threshold value; if it is above is set to white, otherwise it is set to black.</p></div>
          <div id="interactive-image-filters-brightness-paragraph" style="display:none"><p>A simple filter where, every pixel in the image is adjusted by some constant.</p></div>
          <div id="interactive-image-filters-simple-kernel-paragraph" style="display:none"><p>Applies a kernel as shown to the image, where every pixel is adjusted based on the value of its neighbours.</p></div>
        </div>
        <div id="interactive-image-filters-grayscale-controls" class="col s12 m4">
          <h5>Grayscale Controls</h5>
          <!-- TODO: <button onclick="">Preview</button> -->
          <button id="interactive-image-filters-grayscale-apply-button">Apply</button>
        </div>
        <div id="interactive-image-filters-threshold-controls" class="col s12 m4" style="display:none">
          <h5>Threshold Controls</h5>
          <label for="interactive-image-filters-threshold-slider">Threshold Value:</label>
          <input id="interactive-image-filters-threshold-slider" type="range" name="threshold" value="100" min="0" max="255" step="1">
          <button id="interactive-image-filters-threshold-apply-button">Apply</button>
        </div>
        <div id="interactive-image-filters-brightness-controls" class="col s12 m4" style="display:none">
          <h5>Brightness Controls</h5>
          <label for="interactive-image-filters-brightness-slider">Brightness Adjust:</label>
          <input id="interactive-image-filters-brightness-slider" type="range" name="threshold" value="0" min="-40" max="40" step="1">
          <button id="interactive-image-filters-brightness-apply-button">Apply</button>
        </div>
        <div id="interactive-image-filters-simple-kernel-controls" class="col s12 m4" style="display:none">
          <h5>Kernels</h5>
          <label for="interactive-image-filters-simple-kernel-selector">Selected Kernel:</label>
          <select id ="interactive-image-filters-simple-kernel-selector" class="browser-default">
            <option value="identity">Identity</option>
            <option value="sharpen">Sharpen</option>
            <option value="box_blur">Box Blur</option>
            <option value="gaussian_blur">Gaussian Blur</option>
            <option value="edge_detect">Edge Detect</option>
          </select>
          <label for="interactive-image-filters-simple-kernel-table">Kernel:</label>
          <table id="interactive-image-filters-simple-kernel-table" class="interactive-image-filters-kernel-table">
          </table>
          <button id="interactive-image-filters-simple-kernel-apply-button">Apply</button>
        </div>
      </div>

      <!-- Source canvas for loading images, hidden from user -->
      <canvas id="interactive-image-filters-source-canvas"></canvas>

      <link rel="stylesheet" href="./css/image-filters.css">
      <script src="./js/filters.js"></script>
      <script src="./js/image-filters.js"></script>
    </div>
    </div>
    </div>
    <!-- ### End of required HTML for inline interactives ### -->
    <!-- Materialize responsive CSS -->
    <script type="text/javascript" src="../base-files/js/third-party/materialize.min.js"></script>
</body>
</html>
